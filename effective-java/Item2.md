# Item2 - 생성자에 매개변수가 많다면 빌더를 고려하라

정적 팩터리와 생성자에 선택적 매겨변수가 많을 때 고려할 수 있는 방안

* 대안 1 : 점층적 생성자 패턴 또는 생성자 체이닝
	* 매개변수가 늘어나면 클라이언트 코드를 작성하거나 읽기 어렵다.
* 대안 2 : 자바빈즈 패턴
	* 완전한 객체를 만들려면 메서드를 여러번 호출해야 한다. (일관성이 무너진 상태가 될 수도 있다.)
	* 클래스를 불변으로 만들 수 없다.

권장하는 방법 : `빌더 패턴` 
* `플루언트 API` 또는 `메서드 체이닝`을 한다.
* 계층적으로 설계된 클래스와 함께 사용하기 좋다.
* 점층적 생성자보다 클라이언트 코드를 읽고 쓰기가 훨씬 간결하고, 자바빈즈보다 훨씬 안전하다.

# 추가 개념

## 자바빈(`JavaBean`)
재사용 가능한 소프트웨어 컴포넌트  
`java.beans` 패키지 안에 있는 모든 것

* 자바빈이 지켜야 할 규약
	* `argument`가 없는 기본 생성자
	* `getter`와 `setter` 메소드 이름 규약
	* `Serializable` 인터페이스 구현
* 그 중에서도 `getter`와 `setter`가 주로 쓰이는 이유
	* `JPA`나 `스프링`과 같은 여러 프레임워크에서 리플렉션을 통해 특정 객체의 값을 조회하거나 설정하기 때문이다.

## 객체 얼리기 (`freezing`)
임의의 객체를 불변 객체로 만들어주는 기능
자바에서는 제공하지 않고 자바스크립트는 제공한다

* `Object.freeze()`에 전달한 객체는 그뒤로 변경될 수 없다.
	* 새 프로퍼티를 추가하지 못함
	* 기존 프로퍼티를 제거하지 못함
	* 기존 프로퍼티 값을 변경하지 못함
	* 프로토타입을 변경하지 못함
* `strict` 모드에서만 동작한다.
* 비슷한 류의 함수로는 `Object.seal()`과 `Object.preventExtensions()`가 있다.

## 빌더 패턴
동일한 프로세스를 거쳐 다양한 구성의 인스턴스를 만드는 방법  
복잡한 객체를 만드는 프로세스를 독립적으로 분리할 수 있다.
![buidler-pattern](../img/builder-pattern.svg)

## `IllegalArgumentException`
잘못된 인자를 넘겨 받았을 때 사용할 수 있는 기본 런타임 예외

## 가변인수
여러 인자를 받을 수 있는 가변적인 `argument` (`Var` + `args`)

* 가변인수는 메소드에 오직 하나만 선언할 수 있다.
* 가변인수는 메소드의 가장 마지막 매개변수가 되어야 한다.

```java
public void printNumbers(int... numbers){
	Arrays.stream(numbers)
		.forEach(System.out::println);
}
```